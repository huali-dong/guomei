define([],function(){return{drag:function(a,b,c){function d(c){var c=c||event;if(f==b)var d=c.clientX-getPosition(f).x,i=c.clientY-getPosition(f).y;else var d=c.clientX,i=c.clientY;var j=b?b.offsetWidth:window.innerWidth,k=b?b.offsetHeight:window.innerHeight,l=section(0,j-a.offsetWidth,d-g),m=section(0,k-a.offsetHeight,i-h);a.style.left=l+"px",a.style.top=m+"px"}var f=b?b:window;f==b&&"relative"!=getStyle(f).position&&"absolute"!=getStyle(f).position&&"fixed"!=getStyle(f).position&&(f.style.position="relative");var g,h;a.addEventListener("mousedown",function(a){var a=a||event;g=a.offsetX,h=a.offsetY,document.addEventListener("mousemove",d)}),document.addEventListener("mouseup",function(){document.removeEventListener("mousemove",d),c?c():""})},section:function(a,b,c){return Math.max(a,Math.min(b,c))},getStyle:function(a){return getComputedStyle?getComputedStyle(a):a.currentStyle},getPosition:function(a){for(var b=a.offsetLeft,c=a.offsetTop;a.offsetParent;)b+=a.offsetParent.offsetLeft,c+=a.offsetParent.offsetTop,a=a.offsetParent;return{x:b,y:c}}}});